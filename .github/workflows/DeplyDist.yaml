name: Deply Dist          #Project ka naam
# on: [workflow_dispatch]    #kaha se trigger karna hai, manually trigger ho isliye workflow_dispatch likha hai
on:
  push:
    branches:
      - main
      - features/**

jobs:
  test:                   #job ka naam
    runs-on: VM-Runner     #runner ka kaam
    steps:
      # - name: Get Code     #local se runner me code copy kara raha hu
        # run: |
        #   echo "Cloning Repo.."
        #   echo "${{toJson(github)}}"         #Expression Context me code dalenge
        #   git clone https://github.com/${{github.repository}}.git
       
        - name: Get Code 
          uses: actions/checkout@v5                          #Local se vm me code copy ho jayega
 
        - name: Install Node.js v20
          uses: actions/setup-node@v4                         #Node v20 install hoga

        - name: Print Node Version                            #Node ka version check karenge
          run: node -v
        - name: Install Dependencies
          run: npm install                                   # "npm ci" bhi use kar skate hai automated env ke liye
        
        - name: Run Test Case
          run: npm run test